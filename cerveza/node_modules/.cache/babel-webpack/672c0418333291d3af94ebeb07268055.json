{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cervezas.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/button\";\nimport * as i4 from \"primeng/card\";\nimport * as i5 from \"primeng/table\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"primeng/dialog\";\nimport * as i8 from \"primeng/inputtext\";\nimport * as i9 from \"primeng/inputtextarea\";\nimport * as i10 from \"@angular/common\";\n\nfunction ListadoProductosComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\");\n    i0.ɵɵtext(2, \"id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Precio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Stock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"URL imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Acciones\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ListadoProductosComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵelement(13, \"img\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ListadoProductosComponent_ng_template_5_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const prod_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.handleRemove(prod_r2);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ListadoProductosComponent_ng_template_5_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const prod_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.handleEdit(prod_r2);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const prod_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r2.id_producto);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r2.nombre_producto);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind1(7, 6, prod_r2.precio_producto), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(prod_r2.stock);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(prod_r2.descripcion_producto);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", prod_r2.img_url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 25];\n};\n\nexport let ListadoProductosComponent = /*#__PURE__*/(() => {\n  class ListadoProductosComponent {\n    constructor(cs, fb) {\n      this.cs = cs;\n      this.fb = fb;\n      this.displayAdd = false;\n      this.displayEdit = false;\n      this.formAddProduct = new FormGroup({\n        nombreProductoNuevo: new FormControl(''),\n        precioProductoNuevo: new FormControl(),\n        stockProductoNuevo: new FormControl(),\n        urlImagenProductoNuevo: new FormControl(''),\n        descripcionProductoNuevo: new FormControl('')\n      });\n      this.editarProducto = this.fb.group({\n        idProducto: [0],\n        nombreProducto: [''],\n        precioProducto: [0],\n        stockProducto: [0],\n        descripcionProducto: [''],\n        urlImagenProducto: ['']\n      });\n    }\n\n    ngOnInit() {\n      this.getProducts();\n    }\n\n    getProducts() {\n      this.cs.getTodos().subscribe(res => {\n        this.products = res;\n      });\n    }\n\n    handleRemove(item) {\n      this.cs.disableCerveza(item.id_producto).subscribe(r => {\n        this.getProducts();\n      });\n    }\n\n    handleEdit(item) {\n      this.productoSeleccionado = item;\n      this.editarProducto.controls['idProducto'].setValue(item.id_producto);\n      this.editarProducto.controls['nombreProducto'].setValue(item.nombre_producto);\n      this.editarProducto.controls['precioProducto'].setValue(item.precio_producto);\n      this.editarProducto.controls['stockProducto'].setValue(item.stock);\n      this.editarProducto.controls['descripcionProducto'].setValue(item.descripcion_producto);\n      this.editarProducto.controls['urlImagenProducto'].setValue(item.img_url);\n      this.displayEdit = true;\n    }\n\n    guardarCambios() {\n      this.cs.updateCerveza(this.editarProducto.value).subscribe(r => {\n        this.getProducts();\n        this.displayEdit = false;\n      });\n    }\n\n    showDialogAdd() {\n      this.displayAdd = true;\n    }\n\n    agregarProducto() {\n      this.cs.agregarProducto(this.formAddProduct.value).subscribe(r => {\n        this.displayAdd = false;\n        this.getProducts();\n      });\n    }\n\n  }\n\n  ListadoProductosComponent.ɵfac = function ListadoProductosComponent_Factory(t) {\n    return new (t || ListadoProductosComponent)(i0.ɵɵdirectiveInject(i1.CervezasService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  ListadoProductosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListadoProductosComponent,\n    selectors: [[\"app-listado-productos\"]],\n    decls: 56,\n    vars: 17,\n    consts: [[1, \"h-full\", \"p-4\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-plus\", \"label\", \"Nuevo producto\", 1, \"p-button-rounded\", \"p-button-text\", \"p-button-success\", 3, \"click\"], [\"header\", \"Productos en el inventario\"], [\"responsiveLayout\", \"scroll\", \"currentPageReportTemplate\", \"Mostrando {first} a {last} de {totalRecords} productos\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"styleClass\", \"w-5 flex justify-content-center\", 3, \"header\", \"visible\", \"visibleChange\"], [1, \"grid\", \"flex\", \"justify-content-center\"], [3, \"formGroup\"], [1, \"field\", \"col-12\"], [\"for\", \"nombreProducto\", 1, \"block\"], [\"id\", \"nombreProducto\", \"formControlName\", \"nombreProducto\", \"type\", \"text\", \"pInputText\", \"\"], [\"for\", \"precioProducto\", 1, \"block\"], [\"id\", \"precioProducto\", \"formControlName\", \"precioProducto\", \"type\", \"text\", \"pInputText\", \"\"], [\"for\", \"stockProducto\", 1, \"block\"], [\"id\", \"stockProduco \", \"formControlName\", \"stockProducto\", \"type\", \"text\", \"pInputText\", \"\"], [\"for\", \"urlImagenProducto\", 1, \"block\"], [\"id\", \"urlImagenProducto\", \"formControlName\", \"urlImagenProducto\", \"type\", \"text\", \"pInputText\", \"\"], [\"for\", \"descripcionProducto\", 1, \"block\"], [\"id\", \"descripcionProducto\", \"formControlName\", \"descripcionProducto\", \"pInputTextarea\", \"\", 3, \"rows\", \"cols\", \"autoResize\"], [1, \"block\", \"flex\", \"justify-content-center\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Guardar cambios\", 1, \"p-button-raised\", \"p-button-success\", 3, \"click\"], [\"styleClass\", \"w-5 flex justify-content-center\", 3, \"visible\", \"visibleChange\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"nombreProducto\", \"formControlName\", \"nombreProductoNuevo\", \"type\", \"text\", \"pInputText\", \"\"], [\"id\", \"precioProducto\", \"formControlName\", \"precioProductoNuevo\", \"type\", \"text\", \"pInputText\", \"\"], [\"id\", \"stockProduco \", \"formControlName\", \"stockProductoNuevo\", \"type\", \"text\", \"pInputText\", \"\"], [\"id\", \"urlImagenProducto\", \"formControlName\", \"urlImagenProductoNuevo\", \"type\", \"text\", \"pInputText\", \"\"], [\"id\", \"descripcionProducto\", \"formControlName\", \"descripcionProductoNuevo\", \"pInputTextarea\", \"\", 3, \"rows\", \"cols\", \"autoResize\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"submit\", \"label\", \"Guardar cambios\", 1, \"p-button-raised\", \"p-button-success\"], [2, \"width\", \"25px\", \"height\", \"25px\", 3, \"src\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-trash\", 1, \"p-button-rounded\", \"p-button-text\", \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-pencil\", 1, \"p-button-rounded\", \"p-button-text\", \"p-button-warning\", 3, \"click\"]],\n    template: function ListadoProductosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function ListadoProductosComponent_Template_button_click_1_listener() {\n          return ctx.showDialogAdd();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"p-card\", 2);\n        i0.ɵɵelementStart(3, \"p-table\", 3);\n        i0.ɵɵtemplate(4, ListadoProductosComponent_ng_template_4_Template, 15, 0, \"ng-template\", 4);\n        i0.ɵɵtemplate(5, ListadoProductosComponent_ng_template_5_Template, 17, 8, \"ng-template\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p-dialog\", 6);\n        i0.ɵɵlistener(\"visibleChange\", function ListadoProductosComponent_Template_p_dialog_visibleChange_6_listener($event) {\n          return ctx.displayEdit = $event;\n        });\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelementStart(8, \"form\", 8);\n        i0.ɵɵelementStart(9, \"div\", 9);\n        i0.ɵɵelementStart(10, \"label\", 10);\n        i0.ɵɵtext(11, \"Nombre producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"label\", 12);\n        i0.ɵɵtext(15, \"Precio producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 9);\n        i0.ɵɵelementStart(18, \"label\", 14);\n        i0.ɵɵtext(19, \"Stock producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 9);\n        i0.ɵɵelementStart(22, \"label\", 16);\n        i0.ɵɵtext(23, \"Url imagen producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"input\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 9);\n        i0.ɵɵelementStart(26, \"label\", 18);\n        i0.ɵɵtext(27, \"Descripcion producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"textarea\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 20);\n        i0.ɵɵelementStart(30, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function ListadoProductosComponent_Template_button_click_30_listener() {\n          return ctx.guardarCambios();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"p-dialog\", 22);\n        i0.ɵɵlistener(\"visibleChange\", function ListadoProductosComponent_Template_p_dialog_visibleChange_31_listener($event) {\n          return ctx.displayAdd = $event;\n        });\n        i0.ɵɵelementStart(32, \"div\", 7);\n        i0.ɵɵelementStart(33, \"form\", 23);\n        i0.ɵɵlistener(\"ngSubmit\", function ListadoProductosComponent_Template_form_ngSubmit_33_listener() {\n          return ctx.agregarProducto();\n        });\n        i0.ɵɵelementStart(34, \"div\", 9);\n        i0.ɵɵelementStart(35, \"label\", 10);\n        i0.ɵɵtext(36, \"Nombre producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"input\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 9);\n        i0.ɵɵelementStart(39, \"label\", 12);\n        i0.ɵɵtext(40, \"Precio producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"input\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 9);\n        i0.ɵɵelementStart(43, \"label\", 14);\n        i0.ɵɵtext(44, \"Stock producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"input\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 9);\n        i0.ɵɵelementStart(47, \"label\", 16);\n        i0.ɵɵtext(48, \"Url imagen producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(49, \"input\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 9);\n        i0.ɵɵelementStart(51, \"label\", 18);\n        i0.ɵɵtext(52, \"Descripcion producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"textarea\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 20);\n        i0.ɵɵelement(55, \"button\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"value\", ctx.products)(\"paginator\", true)(\"rows\", 5)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(16, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate1(\"header\", \"Editando producto \", ctx.productoSeleccionado ? ctx.productoSeleccionado.nombre_producto : \"\", \"\");\n        i0.ɵɵproperty(\"visible\", ctx.displayEdit);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.editarProducto);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"rows\", 5)(\"cols\", 30)(\"autoResize\", false);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"visible\", ctx.displayAdd);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.formAddProduct);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"rows\", 5)(\"cols\", 30)(\"autoResize\", false);\n      }\n    },\n    directives: [i3.ButtonDirective, i4.Card, i5.Table, i6.PrimeTemplate, i7.Dialog, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i8.InputText, i9.InputTextarea],\n    pipes: [i10.DecimalPipe],\n    styles: [\"\"]\n  });\n  return ListadoProductosComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}