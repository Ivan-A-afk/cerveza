<p-dialog [(visible)]="visible" [resizable]="false" styleClass="w-6" [closable]="true" [closeOnEscape]="true" (onHide)="onClose()">
        <div *ngIf="!products.length; else agregarOtroProducto">
            <h4>No tienes productos agregado</h4>
                <a [routerLink]="['/products']" class="justify-content-center" style="text-decoration: none">
                    <p-button label="Agrega algun producto"  icon="pi pi-plus" class="justify-content-center p-jc-center flex w-full"  > </p-button>
                </a>
        </div>
        <ng-template #agregarOtroProducto  >
            <div class="card">
                <h3>Carrito de compras</h3>
                <p-table [value]="products">
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="name">NOMBRE <p-sortIcon field="name"></p-sortIcon></th>
                            <th pSortableColumn="cant">CANTIDAD<p-sortIcon field="quantity"></p-sortIcon></th>
                            <th >PRECIO </th>
                            <th >ELIMINAR </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr style="text-transform: uppercase;">
                            <td>{{item.name}}</td>
                            <td>{{item.cant}}</td>
                            <td>$ {{item.price}}</td>
                            <td><p-button  icon="pi pi-times" title="Eliminar" class="justify-content-center flex w-full " (click)="clearItem(item)"></p-button></td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="footer">
                        <tr>
                            <td colspan="3" class="text-right">Total</td>
                            <td>{{ products | totalCompra:'products' }}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <ng-template pTemplate="footer">
                    <p-button label="Agrega otro producto"  icon="pi pi-plus"  (click)="handleClick()"></p-button> 
                    <p-button label="Ir a pagar"  icon="pi pi-wallet" title="Necesitas iniciar sesiÃ³n para realizar una compra"(click)="handlePayment()"  ></p-button>
            </ng-template>
           
        </ng-template>
</p-dialog>
